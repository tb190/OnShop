@model OnShop.Models.ProductViewModel
@{
    ViewData["Title"] = "User Basket Page";
    Layout = "~/Views/Shared/_LayoutUser.cshtml";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - OnShop</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/OnShop.styles.css" asp-append-version="true" />
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="container mt-4">
        <div class="buy-part" style="flex-direction: row;">
            <!-- Toplam Fiyat -->
            <div style="margin-left: 860px;">
                <span style="font-size: 18px; font-weight: bold;">Total Price:</span>
                <span style="font-size: 18px; font-weight: bold; margin-left: 10px;">@Model.TotalPrice.ToString("C")</span>
            </div>



            <div class="button-container" style="display: flex; justify-content: flex-end;">
                <button type="button" class="btn btn-outline-secondary" data-toggle="modal" data-target="#reviewModal" style="width: 200px; max-width: 300px; margin-bottom:30px; margin-top:-35px;">Purchase Products</button>
            </div>

            <!-- Modal -->
            <div class="modal fade" id="reviewModal" tabindex="-1" role="dialog" aria-labelledby="reviewModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable" role="document">
                    <div class="modal-content">
                        <div class="modal-body">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>

                            <div>
                                @if (Model.userModel.CreditCards == null || !Model.userModel.CreditCards.Any())
                    {
                                <p style="padding-top: 17px;">No credit cards available.</p>
                    }
                    else
                    {
 <!-- Display Total Price -->
                                <div class="total-price" style="border-bottom:1px solid #8f8f8f; padding-bottom: 17px; display:flex; font-size:20px;">
                                    <strong style="margin-right:10px;">Total Price:</strong> @Model.TotalPrice.ToString("C")
                                </div>

 <!-- Container for Credit Cards -->
                                <form asp-area="" asp-controller="User" asp-action="BuyProducts" method="post" class="credit-card-selection-form">
                                    <div class="credit-cards-container">
                                        @foreach (var card in Model.userModel.CreditCards)
{
                                        <label class="credit-card-label" onclick="selectCard(this)">
                                            <div class="credit-card-container">
                                                <div class="credit-card">
                                                    <div class="card-front">
                                                        <div class="card-details" style="display: flex; flex-direction: column; justify-content: flex-start; position: absolute; bottom: 20px; left: 20px;">
                                                            <div class="card-number-expiration">
                                                                <div class="card-number">
                                                                    @card.CardNumber
                                                                </div>
                                                                <div class="card-expiration">
                                                                    Expiry: @card.ExpirationDate
                                                                </div>
                                                            </div>
                                                            <div class="card-holder">
                                                                <strong> @card.CardHolderName</strong>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div class="card-back">
                                                        <div class="card-cvv">
                                                            <strong>CVV:</strong> @card.CVV
                                                        </div>
                                                    </div>
                                                </div>
                                                <input type="radio" name="CardId" value="@card.CreditCardId" class="card-radio" />
                                            </div>
                                        </label>
}
                                    </div>

                                    <input type="hidden" name="TotalPrice" value="@Model.TotalPrice" />
                               

                                    <!-- Confirmation Button -->
                                    <div class="button-container">
                                        <button type="submit" class="btn btn-outline-secondary" style="margin-top:10px;" onclick="submitForm()">Confirm</button>
                                    </div>
                                </form>
                    }
                            </div>
                        </div>
                    </div>
                </div>
            </div>





        </div>
    </div>

    @foreach (var product in Model.BasketProducts)
        {
            var carouselId = "carousel" + product.ProductId; // Each product should have a unique ID
            var quantityInputId = "quantityInput" + product.ProductId;
            var hiddenQuantityId = "hiddenQuantity" + product.ProductId;
            var formId = "quantityForm" + product.ProductId;

    <div class="row mb-4">
        <div class="col-12">
            <div class="card h-100 flex-row">
                <div id="@carouselId" class="carousel slide" data-ride="carousel" style="width: 200px;">
                    <ol class="carousel-indicators">
                        @if (product.Photos != null)
                                {
                                    for (int i = 0; i < product.Photos.Count; i++)
                                    {
                        <li data-bs-target="#@carouselId" data-bs-slide-to="@i" class="@((i == 0) ? "active" : "")"></li>
                                    }
                                }
                    </ol>
                    <div class="carousel-inner">
                        @if (product.Photos != null)
                                {
                                    for (int i = 0; i < product.Photos.Count; i++)
                                    {
                        <div class="carousel-item @(i == 0 ? "active" : "")">
                            <img class="d-block w-100" src="@product.Photos.ElementAt(i)" alt="Slide @(i + 1)" style="height: 280px; object-fit: cover;">
                        </div>
                                    }
                                }
                    </div>
                    <a class="carousel-control-prev" href="#@carouselId" role="button" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#@carouselId" role="button" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </a>
                </div>

                <div class="card-body" onclick="window.location.href='@Url.Action("ProductDetails", "User", new { ProductId = product.ProductId })'" style="cursor: pointer;">
                    <div class="details-container" style="display: flex; align-items: center;">
                        <div class="details" style="flex: 1;">
                            <div class="d-flex justify-content-between">
                                <h5 class="card-title">@product.ProductName</h5>
                                <!-- Çöp Kutusu -->
                                <a asp-area="" asp-controller="User" asp-action="RemoveProductFromBasket" asp-route-ProductId="@product.ProductId" asp-route-CompanyId="@product.CompanyID" class="btn btn-like no-outline" style="font-size: 21px; margin-left: 15px;" onclick="event.stopPropagation();">
                                    <i class="las la-trash-alt"></i>
                                </a>
                            </div>

                            <p class="card-text">
                                @{
                                            var description = @product.Description;
                                            var firstSentence = description.Contains(".") ? description.Substring(0, description.IndexOf(".") + 1) : description;
                                }
                                <span class="name">@firstSentence</span>
                            </p>
                            <p class="card-text"><strong>Category:</strong> @product.Category</p>
                            <p class="card-text"><strong>Price:</strong> @product.Price.ToString("C")</p>
                            <p class="card-text">
                                <strong>Rating:</strong>
                                <span class="rating">
                                    @for (int i = 0; i < 5; i++)
                                            {
                                                if (i < product.Rating)
                                                {
                                    <i class="las la-star" style="color: gold; font-size: 14px;"></i>
                                                }
                                                else
                                                {
                                    <i class="las la-star" style="color: #ccc; font-size: 14px;"></i>
                                                }
                                            }
                                </span>
                                <span>@product.Rating</span>
                            </p>

                            <!-- Count bilgisi ve butonlar -->
                            <div class="quantity-container" style="display: flex; align-items: center;">
                                <form asp-area="" asp-controller="User" asp-action="UpdateBasketProductQuantity" asp-method="post" id="@formId" style="display: none;">
                                    <input type="hidden" name="ProductId" value="@product.ProductId" />
                                    <input type="hidden" name="CompanyId" value="@product.CompanyID" />
                                    <input type="hidden" name="Quantity" id="@hiddenQuantityId" value="@product.Count" />
                                </form>

                                <p class="card-text" style="margin-right: 10px; margin-top: 10px;"><strong>Count:</strong></p>
                                <button type="button" class="quantity-btn" onclick="changeQuantity(-1, event, '@quantityInputId', '@hiddenQuantityId', '@formId')" style="margin-right:5px;">-</button>
                                <input class="quantityInput" type="number" id="@quantityInputId" value="@product.Count" min="1" style="width: 50px; text-align: center; cursor:pointer;" readonly />
                                <button type="button" class="quantity-btn" onclick="changeQuantity(1, event, '@quantityInputId', '@hiddenQuantityId', '@formId')" style="margin-left:5px;">+</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        }



    <!-- Previously Added -->
    <div class="component-list component-small-list" style="overflow-x:auto">
        <article class="component-item widget-width">
            <div class="widget-container extended-container">
                <div class="widget-gw-widget">
                    <div>
                        <div class="widget-header">
                            <h4 style="font-size:20px; margin-top:-20px;">Previously Added</h4>
                            <!--div class="widget-header-navigation">
                                <a href="#">All Products<i class="fa-solid fa-arrow-right"></i></a>
                            </div-->
                        </div>
                    </div>
                    <div class="widget-seen-tracker" data-tracker="seen:widget-gw-widget-2305414"></div>
                    <div class="styles-module_sliderBase__swkx1 product-slider" data-ride="carousel">
                        <div class="arrow-container" data-arrow="left">
                            <button class="arrow-button" id="prevBtn">
                            </button>
                        </div>

                        <div class="styles-module_slider__o0fqa" id="product-slider">
                            @{
                                    // Initialize count based on the number of deleted products
                                    var count = 0;
                                    if (Model.DeletedProducts.Count < 10)
                                    {
                                        count = Model.DeletedProducts.Count;
                                    }
                                    else
                                    {
                                        count = 10;
                                    }
                            }

                            @for (int index = 0; index < count; index++)
                                {
                                 var product = Model.DeletedProducts[index];
                            <div class="widget-product" title="@product.ProductName">
                                <a asp-area="" asp-controller="User" asp-action="ProductDetails" asp-route-ProductId="@product.ProductId">
                                    <div class="image-container">
                                        <img class="slider-img p-card-img" src="@product.Photos.FirstOrDefault()">

                                        <!-- Kalp Button -->
                                        <a id="like-button"
                                           class="btn btn-like @(product.IsFavorited ? "favorited" : "not-favorited")"
                                           asp-area=""
                                           asp-controller="User"
                                           asp-action="ToggleFavoriteProduct"
                                           asp-route-productId="@product.ProductId"
                                           asp-route-returnUrl="@Context.Request.Path"
                                           style="font-size:16px;">
                                            <i class="las la-heart"></i>
                                        </a>


                                        <!-- Stok Bilgisi -->
                                        @if (product.Stock > 0)
{
                                        <div class="stock-badge">
                                            <span class="stock-text">@product.Stock</span>
                                        </div>
}

                                    </div>
                                    <div class="product-details">
                                        <div class="product-info-area">
                                            <div class="product-name-wrapper" style="text-decoration:none;">
                                                <span class="brand">@product.ProductName</span>
                                                @{
                                                             var Description_ = @product.Description;
                                                             var firstSentence_ = Description_.Contains(".") ? Description_.Substring(0, Description_.IndexOf(".") + 1) : Description_;
                                                }

                                                <span class="name">@firstSentence_</span>
                                            </div>
                                            <div class="ratings-container">
                                                <div class="ratings-score" style="font-size:12px; margin-top:4px; margin-right:5px;">@product.Rating</div>
                                                <div class="ratings">
                                                    <span class="rating">
                                                        @for (int i = 0; i < 5; i++)
                                                                 {
                                                                     if (i < product.Rating)
                                                                     {
                                                        <i class="las la-star" style="color: gold; font-size: 14px; text-decoration: none;"></i>
                                                                     }
                                                                     else
                                                                     {
                                                        <i class="las la-star" style="color: #ccc; font-size: 14px; text-decoration: none;"></i>
                                                                     }
                                                                 }
                                                    </span>
                                                </div>
                                            </div>
                                            <div class="price-container">
                                                <div class="prices">
                                                    <div class="price-box"><span style="color:#333;">@product.Price.ToString("C", new System.Globalization.CultureInfo("tr-TR"))</span></div>

                                                </div>
                                            </div>
                                            <div class="badges"></div>
                                        </div>
                                    </div>
                                </a>
                                <div class="product-seen-tracker" data-tracker="seen:widget-gw-product-@product.ProductId" data-id="@product.ProductId" data-merchant-id="@product.CompanyID"></div>
                            </div>
                             }
                        </div>
                        <div class="arrow-container" data-arrow="right">
                            <button class="arrow-button" id="nextBtn">
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </article>
    </div>



    </div>
    <script>


        // --------------------------------- submitForm ---------------------------------
    function submitForm() {
        const basketProducts = @Html.Raw(Json.Serialize(Model.BasketProducts)); // Model'den basketProducts al
        const totalPrice = @Model.TotalPrice;
        const cardId = $("input[name='CardId']:checked").val(); // Seçili kart ID'sini al

        // AJAX isteği yap
        $.ajax({
            url: '@Url.Action("BuyProducts", "User")',
            type: 'POST',
            contentType: 'application/json',
            data: JSON.stringify({
                basketProducts: basketProducts,
                totalPrice: totalPrice,
                cardId: cardId
            }),
        });
    }

     // --------------------------------- selectCard ---------------------------------
     function selectCard(label) {
         // Remove 'selected' class from all cards
         document.querySelectorAll('.credit-card').forEach(function (card) {
             card.classList.remove('selected');
         });

         // Add 'selected' class to clicked card
         label.querySelector('.credit-card').classList.add('selected');

         // Check the radio button
         label.querySelector('.card-radio').checked = true;
     }
     // --------------------------------- Change Quantity ---------------------------------
     function changeQuantity(amount, event, quantityInputId, hiddenQuantityId, formId) {
         event.stopPropagation(); // Propagasyonu durdurur

         var quantityInput = document.getElementById(quantityInputId);
         var currentQuantity = parseInt(quantityInput.value);

         // Yeni miktarı hesapla
         var newQuantity = currentQuantity + amount;
         if (newQuantity < 1) newQuantity = 1; // Minimum değer 1

         quantityInput.value = newQuantity;

         // Formu güncelle
         document.getElementById(hiddenQuantityId).value = newQuantity;

         // Formu gönder
         document.getElementById(formId).submit();
     }

     // --------------------------------- Carousel ---------------------------------
     $(document).ready(function () {
         $('.carousel').carousel({
             interval: false // Disable automatic cycling
         });
     });

     // --------------------------------- Open or Close Modal ---------------------------------
     $(document).ready(function () {
         $('.btn[data-toggle="modal"]').on('click', function () {
             var targetModal = $(this).data('target');
             $(targetModal).modal('show');
         });
     });

     $(document).ready(function () {
         $(document).on('click', '[data-dismiss="modal"]', function () {
             var targetModal = $(this).closest('.modal');
             $(targetModal).modal('hide');
         });
     });

     // --------------------------------- All or Online ---------------------------------
     $(document).ready(function () {
         // Handle showing only online products
         $('.btn-outline-secondary[data-status="online"]').on('click', function () {
             window.location.href = '@Url.Action("VendorProducts", "Vendor")' + '?statusFilter=online';
         });

         // Handle showing all products
         $('.btn-outline-secondary[data-status="all"]').on('click', function () {
             window.location.href = '@Url.Action("VendorProducts", "Vendor")' + '?statusFilter=all';
         });
     });

     // --------------------------------- Search ---------------------------------
     $(document).ready(function () {
         // Handle search functionality
         $('#button-search').on('click', function () {
             var searchString = $('#searchInput').val().toLowerCase().trim();

             // Redirect to the action with updated search string
             window.location.href = '@Url.Action("VendorProducts", "Vendor")' + '?searchString=' + searchString;
         });

         // Optionally, handle search on Enter key press
         $('#searchInput').keypress(function (e) {
             if (e.which === 13) { // 13 is the Enter key code
                 $('#button-search').click();
             }
         });
     });

    </script>
    <style>

        a {
            text-decoration: none;
            color: #333;
        }

            a:hover {
                text-decoration: none;
                color: #333;
            }

        .card {
            background-image: linear-gradient(to right bottom, #f6f6f8, #f7f7fa, #f8f8fb, #f9f9fd, #fafaff);
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.2s ease-in-out;
            cursor: pointer; /* Add pointer cursor to indicate it's clickable */
        }

            .card h5 {
                font-size: 1.25rem;
                font-weight: bold;
            }

            .card p {
                font-size: 0.875rem;
            }

        .rating i {
            margin-right: 2px;
        }

        .card-body {
            flex: 1;
        }

        .carousel {
            flex-shrink: 0;
        }

        /* Satın Al Butonu */
        .Buy {
            background-image: linear-gradient(89.7deg, rgba(0,0,0,1) -10.7%, rgba(53,92,125,1) 88.8%);
            color: #fff;
            border: none;
            padding: 10px 0;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

            .Buy:hover {
                color: #fff;
            }

        /* quantity butonu */
        .quantity-btn {
            font-size: 20px;
            width: 25px;
            height: 25px;
            border: 1px solid #ccc;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: white;
            cursor: pointer;
        }

        .quantityInput {
            outline: none;
            border: 1px solid #ccc;
        }

            .quantityInput:hover {
                outline: none;
                border: 1px solid #ccc;
            }



        /* modal */
        .modal-xl-custom {
            max-width: 800px; /* Adjust the width as needed */
            max-height: 600px;
        }

        .modal-dialog {
            width: 800px;
            max-width: none;
            margin: 1.75rem auto;
        }

        .modal-body {
            overflow-x: hidden; /* Kaydırma çubuğu eklemek için */
        }

        .close {
            position: absolute;
            top: 15px; /* Adjust as needed */
            right: 15px; /* Adjust as needed */
            background: none; /* Remove any background */
            border: none; /* Remove any border */
            color: #000; /* Set text color, adjust as needed */
            font-size: 1.5rem; /* Adjust size as needed */
            line-height: 1; /* Align vertically */
            cursor: pointer; /* Show pointer cursor on hover */
            margin: 10px;
        }

            .close:focus {
                outline: none; /* Remove the default outline */
            }

            .close span {
                font-size: 1.5rem; /* Adjust size to fit the design */
                display: block; /* Ensure it is displayed properly */
            }

        /* credit card */
        .credit-cards-container {
            flex-direction: row; /* Align cards in a row */
            overflow-x: auto; /* Enable horizontal scrolling */
            padding: 20px; /* Padding around the container */
            gap: 15px; /* Space between cards */
            width: 1000px; /* Ensure the container takes up full width */
            white-space: nowrap; /* Prevent wrapping of cards to the next line */
            height: 250px;
            perspective: 1000px;
            display: inline-block;
        }

        /* Style for individual credit cards */
        /* Style for individual credit cards */
        .credit-card {
            width: 347px; /* Adjust the width as needed */
            height: 217px; /* Adjust the height as needed */
            border: 1px solid #ddd;
            border-radius: 14px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            background: #fff;
            display: flex;
            flex-direction: column;
            margin-right: 15px; /* Add some space between cards */
            flex-shrink: 0; /* Prevent cards from shrinking */
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s; /* Süreyi burada ayarlayın */
        }
            /* Styling for hovering effect */
            .credit-card:hover {
                transform: rotateY(180deg);
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            }


            /* Selected card styling */
            .credit-card.selected {
                border: 3px solid #007bff; /* Highlight color for selected card */
                box-shadow: 0 0px 10px rgba(0, 0, 0, 0.4); /* Optional: Enhanced shadow for selected card */
            }

        /* Optional scrollbar styling for Webkit browsers */
        .credit-cards-container::-webkit-scrollbar {
            height: 5px; /* Adjust scrollbar height */
        }

        .credit-cards-container::-webkit-scrollbar-thumb {
            background-color: #888; /* Color of the scrollbar */
            border-radius: 4px; /* Rounded corners of the scrollbar thumb */
        }

            .credit-cards-container::-webkit-scrollbar-thumb:hover {
                background-color: #555; /* Darker color on hover */
            }

        /* Card Back Design */
        /* Front and Back sides of the card */
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        /* Card Front Design */
        .card-front {
            /* Arka plan rengi ya da gradienti tanımlayabilirsiniz */
            background: #fff;
            /* Arka plan görüntüsü */
            background-image: url('/Pictures/card.png');
            background-size: contain; /* Görüntüyü içeri sığdır */
            background-repeat: no-repeat; /* Tekrar etmesini engelle */
            background-position: center; /* Görüntüyü ortalayın */
            /* Kenar boşlukları veya dolgu için padding veya border kullanabilirsiniz */
            /* Diğer stil özellikleri */
            display: flex;
            align-items: center;
            justify-content: space-between;
            height: 100%;
        }

        /* Card Back Design */
        .card-back {
            /*background: linear-gradient(135deg, #7f8c8d, #bdc3c7);*/
            background-color: #000;
            color: #eeeeee;
            transform: rotateY(180deg);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* card detailss */
        /* Card Details Styling */
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }


        /* Group card number and expiration together */
        .card-number-expiration {
            display: flex;
            color: #fff;
            flex-direction: column;
            margin-bottom: 10px;
        }

        .card-number {
            padding-top: 20px;
            color: #fff;
            font-size: 0.9em;
        }



        .card-expiration,
        .card-holder {
            color: #fff;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .card-holder {
            text-transform: uppercase;
        }

        .credit-card-label {
            cursor: pointer;
        }

        .card-radio {
            display: none;
        }





        /* ------------------------------- article için ------------------------------ */
        a {
            text-decoration: none;
        }

        .component-list.component-small-list {
            display: flex;
            flex-wrap: wrap;
            overflow-y:hidden;
        }

            .component-list.component-small-list .component-item {
                width: 100%;
                box-sizing: border-box;
                height: 440px;
                border-radius: 8px; /* Modern köşeler */
                background: url('path/to/texture.png'), linear-gradient(135deg, #ffffff, #f0f0f0); /* Light texture with gradient */
                background-blend-mode: overlay; /* Blends the texture with the gradient */
                border: 1px solid #ccc; /* Light border for definition */
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15); /* Subtle shadow */
            }



        .component-list .widget-container:not(.no-padding).extended-container {
            padding: 30px 0px 0px 0px;
            border-radius: 8px;
            border: 0px;
            background-size: cover;
            box-shadow: none;
        }

        .widget-gw-widget {
            height: 440px;
        }

            /* Widget Header */
            .widget-gw-widget .widget-header {
                box-sizing: border-box;
                display: flex;
                justify-content: space-between;
                height: auto;
                border: 0;
                align-items: center;
                width: 100%;
                padding: 0 20px 16px !important;
            }

                .widget-gw-widget .widget-header span {
                    line-height: 26px;
                    font-size: 12px;
                    color: #333;
                    background: transparent;
                    padding-right: 12px;
                    text-decoration: none;
                    font-family: 'source_sans_prosemibold', sans-serif;
                }

            .widget-gw-widget .widget-header-navigation {
                margin-left: auto;
                display: flex;
                color: #333;
                background: transparent;
            }

                .widget-gw-widget .widget-header-navigation a {
                    text-decoration: none !important;
                    font-family: 'source_sans_prosemibold', sans-serif;
                    color: #333;
                    font-size: 16px;
                    line-height: 20px;
                    display: flex;
                    align-items: normal;
                }

                .widget-gw-widget .widget-header-navigation i {
                    margin-top: 2px;
                    margin-left: 6px;
                }

            /* Product Container */
            .widget-gw-widget .product-slider {
                position: relative;
                min-height: 100px;
                max-height: 440px;
                margin-bottom: 20px;
                overflow: hidden;
            }

                .widget-gw-widget .product-slider div[data-arrow][data-arrow="right"] button {
                    background-image: url(https://cdn.dsmcdn.com/web/production/widget-product-slider-right.png);
                    background-position-x: 14px;
                    margin-right: 4px;
                }

                .widget-gw-widget .product-slider div[data-arrow][data-arrow="left"] button {
                    background-image: url(https://cdn.dsmcdn.com/web/production/widget-product-slider-left.png);
                    background-position-x: 14px;
                    margin-left: 4px;
                }


                .widget-gw-widget .product-slider button {
                    width: 42px;
                    height: 42px;
                    border-radius: 25px;
                    box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.2);
                    border: solid 1px #e6e6e6;
                    box-sizing: border-box;
                    background-color: #ffffff;
                    position: absolute;
                    top: 50%;
                    margin-top: -21px;
                    transition: all 400ms;
                    background-position: center;
                    background-repeat: no-repeat;
                    background-size: 10px 17px;
                }

        .arrow-button {
            display: inline-block;
            background: none;
            border: none;
            cursor: pointer;
        }

        .arrow-container {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 1;
        }

            .arrow-container[data-arrow="left"] {
                left: 10px;
            }

            .arrow-container[data-arrow="right"] {
                right: 10px;
            }

        /* Sağda ve ortada konumlandırma */
        .component-list .widget-container:not(.no-padding).extended-container {
            position: relative; /* Relative konumlandırma, butonun konumunu ayarlamak için */
        }

            .component-list .widget-container:not(.no-padding).extended-container div[data-arrow="right"] {
                position: absolute;
                right: 50px; /* Sağdan uzaklığı ayarlayın */
                top: 50%; /* Yatayda ortalamak için */
                transform: translateY(-50%); /* Dikeyde tam ortalamak için */
                z-index: 9;
            }


            /* Optional: Prevent wrapping */
            .component-list .widget-container:not(.no-padding).extended-container [class^="styles-module_slider_"] {
                padding: 0px 20px 0px 20px;
            }

        .styles-module_slider__o0fqa {
            min-height: 340px;
            height: 340px;
            display: flex;
            overflow-x: auto;
            overflow-y: hidden;
            scrollbar-width: none;
            -ms-overflow-style: none;
            margin: 0 auto;
            padding: 0 10px;
            gap: 17px;
        }



        /* Widget Product */
        .widget-product {
            margin: 0 0 20px 0 !important;
            transition: box-shadow 0.2s linear;
            overflow: hidden;
            flex: 0 0 auto;
            box-sizing: border-box;
            position: relative;
            border: 1px solid #d3d3d3;
            border-radius: 8px;
            overflow: hidden;
            transition: box-shadow 0.3s;
            height: 340px;
            width: 200px !important;
            background-color: #fff;
        }

            .widget-product:hover {
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            }

        /* Image Container */
        .image-container {
            height: 200px; /* İstenilen yüksekliği ayarlayın */
            overflow: hidden;
            position: relative;
        }

            .image-container img {
                width: 100%;
                height: 100%;
                object-fit: cover; /* Görüntünün kaplanması için */
                border-bottom: 1px solid #e0e0e0; /* Görüntünün altına sınır ekler */
            }

        /* Product Details */
        .product-details {
            padding: 10px;
            color: #333;
        }

        /* Stock Badge */
        .stock-badge {
            position: absolute;
            top: 2px;
            left: 2px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px;
            border-radius: 50%;
            font-size: 12px;
            text-align: center;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stock-text {
            display: block;
        }


        /* Description */
        .product-info-area {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
            margin-left: 10px;
        }

        .product-name-wrapper {
            flex: 1;
            overflow: hidden;
            text-decoration: none;
        }

        .product-info-area .brand {
            font-weight: bold;
            font-size: 15px;
            color: #29353c;
        }


        .product-info-area .name {
            font-size: 12px;
            color: #333;
            margin: 2px 0;
            white-space: normal;
            overflow: visible;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }




        /* Ratings */
        .widget-gw-widget .product-slider .product-info-area .ratings-container {
            display: flex;
            min-height: 15px;
            align-items: center;
            margin-top: 2px;
            text-decoration: none;
        }

            .widget-gw-widget .product-slider .product-info-area .ratings-container .ratings-score {
                font-family: source_sans_proregular, sans-serif;
                font-size: 15px;
                font-weight: 400;
                line-height: 15px;
                padding: 0 2px 0 0;
                text-decoration: none;
                color: #333;
            }

        /* Price */

        .widget-gw-widget .widget-product .description .price-container {
            display: flex;
            align-items: center;
            height: 20px;
            color: #333;
        }

            .widget-gw-widget .widget-product .description .price-container .prices {
                display: flex;
                align-items: center;
                height: 20px;
                line-height: 20px;
                color: #333;
            }

        .widget-gw-widget .widget-product .description div.price-box {
            color: #333;
            font-weight: 600;
        }
        /* Tüm bağlantılar (anchor) için genel bir stil */
        a {
            text-decoration: none;
        }

        /* Kalp Simgesi */
        .btn-like {
            width: 35px;
            height: 35px;
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            z-index: 10;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 50%;
            padding: 5px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

            .btn-like i {
                font-size: 16px;
                transition: color 0.3s;
            }

            .btn-like.not-favorited i {
                color: #ccc; /* Grey color for not favorited */
            }

            .btn-like.favorited i {
                color: #ff4081; /* Red color for favorited */
            }




        /* Description */
        .product-info-area {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            height: 100%;
            margin-left: 10px;
        }

        .product-name-wrapper {
            flex: 1;
            overflow: hidden;
            text-decoration: none;
        }

        .product-info-area .brand {
            font-weight: bold;
            font-size: 15px;
            color: #29353c;
        }


        .product-info-area .name {
            font-size: 12px;
            color: #333;
            margin: 2px 0;
            white-space: normal;
            overflow: visible;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
        }




        /* Ratings */
        .product-info-area .ratings-container {
            display: flex;
            min-height: 15px;
            align-items: center;
            margin-top: 2px;
            text-decoration: none;
        }

            .product-info-area .ratings-container .ratings-score {
                font-family: source_sans_proregular, sans-serif;
                font-size: 15px;
                font-weight: 400;
                line-height: 15px;
                padding: 0 2px 0 0;
                text-decoration: none;
                color: #333;
            }

        /* Price */

        .description .price-container {
            display: flex;
            align-items: center;
            height: 20px;
            color: #333;
        }

            .description .price-container .prices {
                display: flex;
                align-items: center;
                height: 20px;
                line-height: 20px;
                color: #333;
            }

        .description div.price-box {
            color: #333;
            font-weight: 600;
        }



    </style>


</body>
</html>
